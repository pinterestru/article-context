# Story 1.1: Project Setup and Configuration

## Status
Draft

## Story
**As a** developer,
**I want** a properly configured Next.js project with TypeScript and essential tooling,
**so that** the team can build features with type safety and code quality standards.

## Acceptance Criteria
1. Initialize Next.js 14+ project with App Router and TypeScript in strict mode
2. Configure path aliases (@/components, @/lib, etc.) in tsconfig.json
3. Set up ESLint, Prettier with team-standard configurations
4. Configure Husky with pre-commit hooks for linting and type checking
5. Create .env.example with all required environment variables documented
6. Set up folder structure matching the defined project architecture
7. Configure pnpm as package manager with lockfile
8. Verify build and dev server run without errors

## Tasks / Subtasks
- [ ] Initialize Next.js project with required configuration (AC: 1, 7)
  - [ ] Run `pnpm create next-app@latest affiliate-article-ui` with TypeScript, ESLint, Tailwind CSS, App Router
  - [ ] Update to Next.js 15.3.4 and React 19.1 as specified in tech stack
  - [ ] Ensure TypeScript strict mode is enabled in tsconfig.json
  - [ ] Verify pnpm is used as package manager
- [ ] Configure TypeScript path aliases (AC: 2)
  - [ ] Add path aliases to tsconfig.json: @/components, @/lib, @/types, @/app, @/providers, @/messages, @/styles
  - [ ] Verify aliases work correctly with imports
- [ ] Set up code quality tooling (AC: 3, 4)
  - [ ] Configure ESLint with team standards from development-standards.md
  - [ ] Set up Prettier with configuration matching team standards
  - [ ] Install and configure Husky for Git hooks
  - [ ] Add pre-commit hook for lint-staged (ESLint + Prettier)
  - [ ] Add pre-push hook for type checking
- [ ] Create environment configuration (AC: 5)
  - [ ] Create .env.example file with placeholder values
  - [ ] Document all required environment variables (API endpoints, feature flags, etc.)
  - [ ] Add .env.local to .gitignore
- [ ] Set up project structure (AC: 6)
  - [ ] Create directory structure matching source-tree.md specifications
  - [ ] Create placeholder files for main directories (components/, lib/, types/, etc.)
  - [ ] Set up public/ directory with fonts/ and images/ subdirectories
- [ ] Install core dependencies (AC: 1, 7)
  - [ ] Install shadcn/ui CLI and initialize with Tailwind CSS 4.1.11
  - [ ] Install core dependencies: @tanstack/react-query, clsx, tailwind-merge, lucide-react
  - [ ] Install development dependencies: @types/react, @types/node, vitest, @testing-library/react
- [ ] Configure build and development environment (AC: 8)
  - [ ] Update next.config.mjs with proper configuration
  - [ ] Configure PostCSS for Tailwind CSS
  - [ ] Set up global styles in src/styles/globals.css
  - [ ] Run `pnpm build` and verify no errors
  - [ ] Run `pnpm dev` and verify server starts correctly
- [ ] Add development tooling configurations
  - [ ] Create .vscode/settings.json with project-specific settings
  - [ ] Create .vscode/extensions.json with recommended extensions
  - [ ] Add .nvmrc file specifying Node.js version
  - [ ] Create CLAUDE.md with AI assistant guidelines

## Dev Notes
### Previous Story Insights
No previous story exists - this is the first story.

### Tech Stack Details
Based on [Source: architecture/tech-stack.md]:
- Framework: Next.js 15.3.4 with App Router
- UI Library: React 19.1 (with useActionState, useOptimistic hooks)
- Styling: Tailwind CSS 4.1.11
- State Management: @tanstack/react-query (latest)
- Component Library: shadcn/ui + Radix UI (latest)
- Testing: Vitest (latest)
- Additional Core: next-intl, @sentry/nextjs, posthog-js, clsx + tailwind-merge, lucide-react

### Project Structure
Based on [Source: architecture/source-tree.md], the following directory structure must be created:
```
src/
├── app/                    # App Router (pages + API)
│   ├── (marketing)/        # Route group for public pages
│   ├── api/                # API routes
│   ├── layout.tsx          # Root layout
│   ├── global-error.tsx    # Global error boundary
│   └── not-found.tsx       # 404 page
├── components/
│   ├── article/            # Article-specific components
│   ├── layout/             # Layout components
│   ├── ui/                 # shadcn/ui components
│   └── shared/             # Shared components
├── lib/
│   ├── api/               # API client functions
│   ├── cloak/             # Cloaking logic
│   ├── hooks/             # Custom React hooks
│   ├── analytics/         # Analytics setup
│   └── utils/             # Utility functions
├── providers/              # React context providers
├── types/                  # TypeScript type definitions
├── messages/              # i18n translations
└── styles/                # Global styles
```

### Development Standards
Based on [Source: architecture/development-standards.md]:
- Component files: PascalCase (e.g., ArticleContent.tsx)
- shadcn/ui components: lowercase (e.g., button.tsx)
- Hooks: use-* prefix, kebab-case (e.g., use-cloak.ts)
- Other files: kebab-case
- TypeScript: strict mode, explicit return types, no any types
- Git hooks: Pre-commit for linting, pre-push for type checking

### Configuration Files Required
- tsconfig.json: TypeScript config with path aliases and strict mode
- next.config.mjs: Next.js configuration
- tailwind.config.ts: Tailwind CSS configuration
- postcss.config.mjs: PostCSS config for Tailwind
- .eslintrc.json: ESLint configuration
- prettier.config.js: Prettier formatting rules
- vitest.config.ts: Test configuration (to be fully configured in later stories)
- components.json: shadcn/ui configuration

### Testing
Based on [Source: architecture/testing-strategy.md#testing-configuration]:
- Testing framework: Vitest with React Testing Library
- Test file naming: *.test.ts or *.test.tsx
- Configuration file: vitest.config.ts with jsdom environment
- Initial setup only - full testing implementation in later stories

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-08-07 | 1.0 | Initial story creation | Bob (SM) |

## Dev Agent Record
### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_